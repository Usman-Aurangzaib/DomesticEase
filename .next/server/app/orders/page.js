(()=>{var e={};e.id=1569,e.ids=[1569],e.modules={38013:e=>{"use strict";e.exports=require("mongodb")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},93086:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>b,pages:()=>o,routeModule:()=>u,tree:()=>l});var t=r(50482),d=r(69108),n=r(62563),i=r.n(n),s=r(68300),c={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>s[e]);r.d(a,c);let l=["",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,30646)),"C:\\Users\\DELL\\Desktop\\DOMESTIC-EASE\\src\\app\\orders\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,21342)),"C:\\Users\\DELL\\Desktop\\DOMESTIC-EASE\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["C:\\Users\\DELL\\Desktop\\DOMESTIC-EASE\\src\\app\\orders\\page.tsx"],b="/orders/page",f={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:d.x.APP_PAGE,page:"/orders/page",pathname:"/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},26095:(e,a,r)=>{let t={"072968937d72af519230d2a43691d6e81586f679":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_1),"0e2da7323e643dc8502d779a9be0ee215a5adedb":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.updateOrder),"108866074a754ba62450c20513e6d7aa9f0ae0d5":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.getSerivcesOrders),"18ce25f48cfdcff1e8e1d068e79dd0e03629b824":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_2),"2b5f27bb77a493a536153c35bc92da67448bbf00":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.findService),"604a5f53a386e7d884ceb4e637d9db4dde083582":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.createOrder),"87811bda8aab4f2c40c29da1aea7294596397243":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.getOrder),"88a430642403f7c4f951cddd695a810686a83667":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_0),"963e7b59c50153e0fdad62679fe297a96352837a":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_5),a7e8291d1bdcec957a9547e446b86b28d5cf22df:()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_4),aa60c369216bcb2edf713d1d760271767fc5a6b6:()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.getAllOrders),b811366656e3aad9ca4d5bc3ad24da57723bbb4a:()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_3),cebd14fc41c69c7d1b4b0d283ed367f82ad15ead:()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.getOrders),e22f0f872921c08064859548dcf4f27623b0971b:()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_6),"04c8a411ffe2e5cbcfdb8f9756b4f9371a8f7e74":()=>Promise.resolve().then(r.bind(r,84929)).then(e=>e.$$ACTION_4),"09a62f06f82ea7d68ac63d7000afb8be15a907d7":()=>Promise.resolve().then(r.bind(r,84929)).then(e=>e.getReviewsType),"0a3e44c80174d4e3c71ee7b433671f69721516fd":()=>Promise.resolve().then(r.bind(r,84929)).then(e=>e.$$ACTION_1),"6a035b8edf0379b08192112a9a7ab36bc6203901":()=>Promise.resolve().then(r.bind(r,84929)).then(e=>e.addReview),"6d757ae541fc0bbdda1c770b8d762a7ba13c8c56":()=>Promise.resolve().then(r.bind(r,84929)).then(e=>e.getReviewsWorker),d3404bb93b9a4209d33db081d3774c9915eb1407:()=>Promise.resolve().then(r.bind(r,84929)).then(e=>e.getAllReviews),dbc95576c41cfdf6449f327f8376ab30081dfa7c:()=>Promise.resolve().then(r.bind(r,84929)).then(e=>e.getWorkerReviews),dbd3bf488cf051dad2f92096b840a30adf6e4771:()=>Promise.resolve().then(r.bind(r,84929)).then(e=>e.$$ACTION_0),e6aca10d9d725666913cd9458af7af6f09ff935a:()=>Promise.resolve().then(r.bind(r,84929)).then(e=>e.$$ACTION_3),f53f6115db2a3326ee903027cbec1377526cb555:()=>Promise.resolve().then(r.bind(r,84929)).then(e=>e.$$ACTION_2),"0f4d132821da063e73dee58ac0271c6b416dbe08":()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.createUser),"2727ff5f424dc69ed443f01d95876fa2ea974c6d":()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.createServiceUser),"42add083530816ef53685d2bc3bb9dc9ac390d43":()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.$$ACTION_3),"59975b62b53c5f40ad91cc17f309d881c82b0209":()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.getAllServiceUsers),"6b01299afed5f0665d014a4af2855e7649356ed0":()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.$$ACTION_1),"7691509385738a31cc2b30475603815741bc16de":()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.$$ACTION_6),"830a08f0b4898aa4d63fb94229055f2fce3e3f71":()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.getUser),"9c3fff7bc34ea049ee987a3faad47491f6dcc742":()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.deleteUser),"9c58d2425d31d23d3f8e3fede0e025a9a16aaf00":()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.$$ACTION_5),a8dbe559b9e3e82e687aabcfe7c2bab9f020568c:()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.getAllUsers),ae483d5d3c1e2e20ae95a2933fab40df31f7512a:()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.updateUser),c5daaae2c8a269884ec101003cee7f2605e1150e:()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.$$ACTION_2),d48555850f75bbc8331ae2649fda238e04723775:()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.$$ACTION_4),dab07b5958eb4650ece771bcba69be64c61f2338:()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.$$ACTION_0),e80969a57efceefee6a8a65908e1e314fe49a2a0:()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.getUserInfo),fb901ff69281c7c2704cbf39121f1ae1992b3848:()=>Promise.resolve().then(r.bind(r,51518)).then(e=>e.$$ACTION_7)};async function d(e,...a){return(await t[e]()).apply(null,a)}e.exports={"072968937d72af519230d2a43691d6e81586f679":d.bind(null,"072968937d72af519230d2a43691d6e81586f679"),"0e2da7323e643dc8502d779a9be0ee215a5adedb":d.bind(null,"0e2da7323e643dc8502d779a9be0ee215a5adedb"),"108866074a754ba62450c20513e6d7aa9f0ae0d5":d.bind(null,"108866074a754ba62450c20513e6d7aa9f0ae0d5"),"18ce25f48cfdcff1e8e1d068e79dd0e03629b824":d.bind(null,"18ce25f48cfdcff1e8e1d068e79dd0e03629b824"),"2b5f27bb77a493a536153c35bc92da67448bbf00":d.bind(null,"2b5f27bb77a493a536153c35bc92da67448bbf00"),"604a5f53a386e7d884ceb4e637d9db4dde083582":d.bind(null,"604a5f53a386e7d884ceb4e637d9db4dde083582"),"87811bda8aab4f2c40c29da1aea7294596397243":d.bind(null,"87811bda8aab4f2c40c29da1aea7294596397243"),"88a430642403f7c4f951cddd695a810686a83667":d.bind(null,"88a430642403f7c4f951cddd695a810686a83667"),"963e7b59c50153e0fdad62679fe297a96352837a":d.bind(null,"963e7b59c50153e0fdad62679fe297a96352837a"),a7e8291d1bdcec957a9547e446b86b28d5cf22df:d.bind(null,"a7e8291d1bdcec957a9547e446b86b28d5cf22df"),aa60c369216bcb2edf713d1d760271767fc5a6b6:d.bind(null,"aa60c369216bcb2edf713d1d760271767fc5a6b6"),b811366656e3aad9ca4d5bc3ad24da57723bbb4a:d.bind(null,"b811366656e3aad9ca4d5bc3ad24da57723bbb4a"),cebd14fc41c69c7d1b4b0d283ed367f82ad15ead:d.bind(null,"cebd14fc41c69c7d1b4b0d283ed367f82ad15ead"),e22f0f872921c08064859548dcf4f27623b0971b:d.bind(null,"e22f0f872921c08064859548dcf4f27623b0971b"),"04c8a411ffe2e5cbcfdb8f9756b4f9371a8f7e74":d.bind(null,"04c8a411ffe2e5cbcfdb8f9756b4f9371a8f7e74"),"09a62f06f82ea7d68ac63d7000afb8be15a907d7":d.bind(null,"09a62f06f82ea7d68ac63d7000afb8be15a907d7"),"0a3e44c80174d4e3c71ee7b433671f69721516fd":d.bind(null,"0a3e44c80174d4e3c71ee7b433671f69721516fd"),"6a035b8edf0379b08192112a9a7ab36bc6203901":d.bind(null,"6a035b8edf0379b08192112a9a7ab36bc6203901"),"6d757ae541fc0bbdda1c770b8d762a7ba13c8c56":d.bind(null,"6d757ae541fc0bbdda1c770b8d762a7ba13c8c56"),d3404bb93b9a4209d33db081d3774c9915eb1407:d.bind(null,"d3404bb93b9a4209d33db081d3774c9915eb1407"),dbc95576c41cfdf6449f327f8376ab30081dfa7c:d.bind(null,"dbc95576c41cfdf6449f327f8376ab30081dfa7c"),dbd3bf488cf051dad2f92096b840a30adf6e4771:d.bind(null,"dbd3bf488cf051dad2f92096b840a30adf6e4771"),e6aca10d9d725666913cd9458af7af6f09ff935a:d.bind(null,"e6aca10d9d725666913cd9458af7af6f09ff935a"),f53f6115db2a3326ee903027cbec1377526cb555:d.bind(null,"f53f6115db2a3326ee903027cbec1377526cb555"),"0f4d132821da063e73dee58ac0271c6b416dbe08":d.bind(null,"0f4d132821da063e73dee58ac0271c6b416dbe08"),"2727ff5f424dc69ed443f01d95876fa2ea974c6d":d.bind(null,"2727ff5f424dc69ed443f01d95876fa2ea974c6d"),"42add083530816ef53685d2bc3bb9dc9ac390d43":d.bind(null,"42add083530816ef53685d2bc3bb9dc9ac390d43"),"59975b62b53c5f40ad91cc17f309d881c82b0209":d.bind(null,"59975b62b53c5f40ad91cc17f309d881c82b0209"),"6b01299afed5f0665d014a4af2855e7649356ed0":d.bind(null,"6b01299afed5f0665d014a4af2855e7649356ed0"),"7691509385738a31cc2b30475603815741bc16de":d.bind(null,"7691509385738a31cc2b30475603815741bc16de"),"830a08f0b4898aa4d63fb94229055f2fce3e3f71":d.bind(null,"830a08f0b4898aa4d63fb94229055f2fce3e3f71"),"9c3fff7bc34ea049ee987a3faad47491f6dcc742":d.bind(null,"9c3fff7bc34ea049ee987a3faad47491f6dcc742"),"9c58d2425d31d23d3f8e3fede0e025a9a16aaf00":d.bind(null,"9c58d2425d31d23d3f8e3fede0e025a9a16aaf00"),a8dbe559b9e3e82e687aabcfe7c2bab9f020568c:d.bind(null,"a8dbe559b9e3e82e687aabcfe7c2bab9f020568c"),ae483d5d3c1e2e20ae95a2933fab40df31f7512a:d.bind(null,"ae483d5d3c1e2e20ae95a2933fab40df31f7512a"),c5daaae2c8a269884ec101003cee7f2605e1150e:d.bind(null,"c5daaae2c8a269884ec101003cee7f2605e1150e"),d48555850f75bbc8331ae2649fda238e04723775:d.bind(null,"d48555850f75bbc8331ae2649fda238e04723775"),dab07b5958eb4650ece771bcba69be64c61f2338:d.bind(null,"dab07b5958eb4650ece771bcba69be64c61f2338"),e80969a57efceefee6a8a65908e1e314fe49a2a0:d.bind(null,"e80969a57efceefee6a8a65908e1e314fe49a2a0"),fb901ff69281c7c2704cbf39121f1ae1992b3848:d.bind(null,"fb901ff69281c7c2704cbf39121f1ae1992b3848")}},22462:(e,a,r)=>{Promise.resolve().then(r.bind(r,13064))},27105:(e,a,r)=>{"use strict";r.d(a,{AU:()=>s,Cs:()=>o,LU:()=>l,LV:()=>i,Wv:()=>n,co:()=>d,zk:()=>c}),r(13664);var t=r(28371),d=(0,t.$)("87811bda8aab4f2c40c29da1aea7294596397243"),n=(0,t.$)("2b5f27bb77a493a536153c35bc92da67448bbf00"),i=(0,t.$)("604a5f53a386e7d884ceb4e637d9db4dde083582"),s=(0,t.$)("cebd14fc41c69c7d1b4b0d283ed367f82ad15ead"),c=(0,t.$)("aa60c369216bcb2edf713d1d760271767fc5a6b6"),l=(0,t.$)("108866074a754ba62450c20513e6d7aa9f0ae0d5"),o=(0,t.$)("0e2da7323e643dc8502d779a9be0ee215a5adedb")},3891:(e,a,r)=>{"use strict";r.d(a,{EA:()=>d,K3:()=>c,Mm:()=>s,N_:()=>n,_r:()=>i}),r(13664);var t=r(28371),d=(0,t.$)("6d757ae541fc0bbdda1c770b8d762a7ba13c8c56"),n=(0,t.$)("6a035b8edf0379b08192112a9a7ab36bc6203901"),i=(0,t.$)("dbc95576c41cfdf6449f327f8376ab30081dfa7c"),s=(0,t.$)("d3404bb93b9a4209d33db081d3774c9915eb1407"),c=(0,t.$)("09a62f06f82ea7d68ac63d7000afb8be15a907d7")},13064:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>L});var t=r(95344),d=r(44730),n=r(96442),i=r(63085),s=r(23353),c=r(67230),l=r(47865),o=r(9480),b=r(72764),f=r(25684),u=r(61469),h=r(98117),g=r(81271),p=r(27105),m=r(3729),x=r(3891),v=r(45),O=r(64470),y=r(47283),j=r(18612),S=r(63120),w=r(39792),$=r(52378),T=r(34548),_=r(95459),C=r(21092),N=r(89320),P=r(4308),A=r(39689),k=(0,_.G)(function(e,a){let{borderLeftWidth:r,borderBottomWidth:d,borderTopWidth:n,borderRightWidth:i,borderWidth:s,borderStyle:c,borderColor:l,...o}=(0,C.mq)("Divider",e),{className:b,orientation:f="horizontal",__css:u,...h}=(0,N.Lr)(e);return(0,t.jsx)(P.m.hr,{ref:a,"aria-orientation":f,...h,__css:{...o,border:"0",borderColor:l,borderStyle:c,...{vertical:{borderLeftWidth:r||i||s||"1px",height:"100%"},horizontal:{borderBottomWidth:d||n||s||"1px",width:"100%"}}[f],...u},className:(0,A.cx)("chakra-divider",b)})});k.displayName="Divider";var R=r(75118),I=r(3),E=r(46006),D=r(72684),M=r(26274),z=r(31296),J=r(8428);let q=function({order:e,setNull:a}){let r=(0,M.NL)(),s=(0,J.useRouter)(),{data:c}=(0,g.a)({queryKey:["reviews",e?.worker],queryFn:async()=>(0,x._r)(e.worker)}),[l,o]=(0,m.useState)(""),[b,f]=(0,m.useState)(0),[h,_]=(0,m.useState)(""),{data:C,isLoading:N}=(0,g.a)({queryKey:["worker",e?.worker],queryFn:async()=>(0,v.bG)(e.worker)}),{mutate:P,isPending:A}=(0,z.D)({mutationFn:async a=>{console.log({order:e});let t=await (0,p.Cs)({worker:e.worker,dateTime:e.dateTime},a);return r.invalidateQueries({queryKey:["orders","worker"]}),s.refresh(),t}}),{mutate:q}=(0,z.D)({mutationFn:async()=>{let a=await fetch(`/api/checkout?orderId=${e._id}`),r=await a.json();console.log({res:r}),s.push(r.session.url)}}),L=(0,O.p)(),{mutate:U,isPending:W}=(0,z.D)({mutationFn:async a=>{let r=await (0,x.N_)({image:e.image,service:e.service,worker:e.worker,user:e.email,rating:b,videoName:a,review:l});return console.log({res:r}),r},onSuccess:()=>{L({title:"Review added",status:"success",duration:9e3,isClosable:!0})}});if(console.log({worker:C,isLoading:N}),!e)return t.jsx(t.Fragment,{});let G=async e=>{if(e.preventDefault(),e.target.file?.files?.[0]?.size>8388608){L({title:"Image size should be less than 8MB",status:"error",duration:9e3,isClosable:!0});return}let a="";if(e.target.file?.files?.length){let r=new FormData;r.append("file",e.target.file.files[0]);let t=await fetch("/api/upload-image",{method:"POST",body:r});a=(await t.json()).name}U(a)};return t.jsx(t.Fragment,{children:(0,t.jsxs)(y.u_,{size:"xl",onClose:a,isOpen:!0,isCentered:!0,children:[t.jsx(j.Z,{}),(0,t.jsxs)(S.h,{children:[t.jsx(w.x,{children:"Order"}),t.jsx($.o,{}),(0,t.jsxs)(T.f,{children:[N?t.jsx(u.$,{}):(0,t.jsxs)(t.Fragment,{children:[C.image&&t.jsx("img",{src:`/api/get-image/${C.image}`,alt:"",width:200,height:200,style:{margin:"auto",objectFit:"cover",borderRadius:"50%"}}),(0,t.jsxs)(n.x,{fontWeight:"bold",fontSize:"large",marginY:4,children:["Worker Name: ",C.name]})]}),(0,t.jsxs)(d.k,{background:"gray.100",padding:2,borderRadius:4,gap:2,flexDir:"column",children:[t.jsx(n.x,{fontSize:"large",fontWeight:"bold",children:"Basic Information"}),(0,t.jsxs)(n.x,{children:["Order Name: ",e.name]}),(0,t.jsxs)(n.x,{children:["Order Status: ",e.status]}),(0,t.jsxs)(n.x,{children:["Order Phone: ",e.phone]}),(0,t.jsxs)(n.x,{children:["Order Date: ",e.dateTime.split("T")[0]]}),(0,t.jsxs)(n.x,{children:["Order Time: ",e.dateTime.split("T")[1]]})]}),(0,t.jsxs)(d.k,{background:"gray.100",padding:2,borderRadius:4,gap:2,flexDir:"column",marginY:2,children:[t.jsx(n.x,{fontSize:"large",fontWeight:"bold",children:"Additional Details"}),(0,t.jsxs)("p",{children:["Order Worker: ",e.worker]}),(0,t.jsxs)("p",{children:["Order Service: ",e.service]}),(0,t.jsxs)("p",{children:["Order Extra: ",e.extra]}),(0,t.jsxs)("p",{children:["Order Paid: ",e.paid?"PAID":"NOT PAID"]})]}),e.paid?t.jsx(t.Fragment,{}):t.jsx(i.z,{onClick:()=>q(),marginTop:2,w:"100%",colorScheme:"blue",children:"Pay"}),"pending"===e.status&&(0,t.jsxs)(d.k,{gap:2,children:[t.jsx(i.z,{onClick:()=>P("completed"),isLoading:A,marginTop:1,w:"100%",colorScheme:"teal",children:"Complete"}),t.jsx(i.z,{onClick:()=>P("cancelled"),isLoading:A,marginTop:1,w:"100%",colorScheme:"red",children:"Cancel"})]}),t.jsx(k,{marginTop:2}),"completed"===e.status&&t.jsx("form",{onSubmit:G,children:(0,t.jsxs)(d.k,{flexDir:"column",gap:2,children:[t.jsx(n.x,{fontSize:"large",fontWeight:"bold",children:"Add a review"}),t.jsx(R.g,{value:l,onChange:e=>o(e.target.value),placeholder:"Enter review",marginTop:2,w:"100%"}),(0,t.jsxs)(I.P,{value:b,onChange:e=>f(parseInt(e.target.value)),children:[t.jsx("option",{value:1,children:"1 star"}),t.jsx("option",{value:2,children:"2 stars"}),t.jsx("option",{value:3,children:"3 stars"}),t.jsx("option",{value:4,children:"4 stars"}),t.jsx("option",{value:5,children:"5 stars"})]}),t.jsx("br",{}),t.jsx(n.x,{children:"Add attachment"}),t.jsx(E.I,{width:500,type:"file",name:"file",accept:"image/*",onChange:e=>_(e.target.value)}),t.jsx(i.z,{isLoading:W,type:"submit",children:"Submit review"})]})}),(0,t.jsxs)(d.k,{gap:2,flexDir:"column",marginTop:2,children:[t.jsx(n.x,{fontSize:"large",fontWeight:"bold",children:"Reviews"}),c?.map(e=>t.jsxs(d.k,{background:"gray.100",padding:2,borderRadius:4,gap:2,flexDir:"column",marginY:2,children:[t.jsx(n.x,{fontSize:"large",fontWeight:"bold",children:e.user}),t.jsx(n.x,{children:e.review})]},e._id))]})]}),t.jsx(D.m,{children:t.jsx(i.z,{w:"100%",onClick:a,children:"Close"})})]})]})})},L=()=>{let{user:e}=(0,h.a)(),[a,r]=(0,m.useState)(null),{data:x,isLoading:v}=(0,g.a)({queryKey:["orders",e],queryFn:async()=>(0,p.AU)(e)}),[O,y]=(0,m.useState)("all"),j="all"===O?x:x?.filter(e=>"paid"===O?e.paid:"not-paid"===O?!e.paid:"pending"===O?"pending"===e.status:"completed"===O?"completed"===e.status:void 0);return e?(0,t.jsxs)(t.Fragment,{children:[t.jsx(q,{order:a,setNull:()=>r(null)}),(0,t.jsxs)(d.k,{flexDir:"column",w:"100%",paddingX:{base:4,md:8},marginY:10,children:[t.jsx(n.x,{fontSize:{base:"xl",md:"xx-large"},fontWeight:"800",textAlign:{base:"center",md:"left"},children:"Orders"}),(0,t.jsxs)(d.k,{w:"100%",gap:{base:2,md:4},flexWrap:"wrap",marginY:4,children:[t.jsx(i.z,{background:"all"===O?"green.300":"gray.200",flex:1,onClick:()=>y("all"),_hover:{background:"green.300"},children:"All"}),t.jsx(i.z,{background:"paid"===O?"green.300":"gray.200",flex:1,onClick:()=>y("paid"),_hover:{background:"green.300"},children:"Paid"}),t.jsx(i.z,{background:"not-paid"===O?"green.300":"gray.200",flex:1,onClick:()=>y("not-paid"),_hover:{background:"green.300"},children:"Not Paid"}),t.jsx(i.z,{flex:1,onClick:()=>y("pending"),background:"pending"===O?"green.300":"gray.200",_hover:{background:"green.300"},children:"Pending"}),t.jsx(i.z,{flex:1,onClick:()=>y("completed"),background:"completed"===O?"green.300":"gray.200",_hover:{background:"green.300"},children:"Completed"})]}),t.jsx(d.k,{flexDirection:"column",gap:2,width:"100%",marginY:10,overflowX:"auto",children:(0,t.jsxs)(s.i,{variant:"simple",size:"md",width:"full",children:[t.jsx(c.h,{children:(0,t.jsxs)(l.Tr,{children:[t.jsx(o.Th,{children:"NAME"}),t.jsx(o.Th,{children:"ADDRESS"}),t.jsx(o.Th,{children:"CITY"}),t.jsx(o.Th,{children:"PAYMENT STATUS"})]})}),t.jsx(b.p,{children:v?t.jsx(l.Tr,{children:t.jsx(f.Td,{colSpan:4,children:t.jsx(u.$,{size:"xl"})})}):j?.map(e=>t.jsxs(l.Tr,{cursor:"pointer",onClick:()=>r(e),_hover:{bg:"gray.100"},children:[t.jsx(f.Td,{children:e.name}),t.jsx(f.Td,{children:e.address}),t.jsx(f.Td,{children:e.city}),t.jsx(f.Td,{children:e.paid?"Paid":"Not Paid"})]},e.id))})]})})]})]}):t.jsx(d.k,{justifyContent:"center",alignItems:"center",height:"100vh",children:t.jsx(n.x,{fontSize:{base:"lg",md:"xx-large"},fontWeight:"800",textAlign:"center",marginX:4,children:"Only logged in users can view this page"})})}},96790:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$ACTION_0:()=>c,$$ACTION_1:()=>o,$$ACTION_2:()=>f,$$ACTION_3:()=>h,$$ACTION_4:()=>p,$$ACTION_5:()=>x,$$ACTION_6:()=>O,createOrder:()=>l,findService:()=>s,getAllOrders:()=>u,getOrder:()=>v,getOrders:()=>b,getSerivcesOrders:()=>g,updateOrder:()=>m});var t=r(60398);r(75811);var d=r(38013),n=r(20915),i=r(46893);let s=(0,t.registerServerReference)("88a430642403f7c4f951cddd695a810686a83667",c);async function c(e,a){let{database:r,client:t}=await (0,n.default)(),d=r.collection("user");for(let n of(console.log(e),await d.find({$and:[{type:"service"},{service:e},{approved:!0}]}).toArray())){let e=r.collection("order"),d=await e.findOne({$and:[{worker:n.email},{date:a}]});if(console.log({order:d}),!d)return t.close(),JSON.parse(JSON.stringify(n))}return t.close(),{}}let l=(0,t.registerServerReference)("072968937d72af519230d2a43691d6e81586f679",o);async function o(e){let{database:a,client:r}=await (0,n.default)(),t=a.collection("order"),d=await t.insertOne({...e,status:"pending"});return console.log({order:d}),r.close(),JSON.parse(JSON.stringify(d))}let b=(0,t.registerServerReference)("18ce25f48cfdcff1e8e1d068e79dd0e03629b824",f);async function f(e){let{database:a,client:r}=await (0,n.default)(),t=a.collection("order"),d=await t.find({email:e}).toArray();return console.log({order:d}),r.close(),JSON.parse(JSON.stringify(d))}let u=(0,t.registerServerReference)("b811366656e3aad9ca4d5bc3ad24da57723bbb4a",h);async function h(){let{database:e,client:a}=await (0,n.default)(),r=e.collection("order"),t=await r.find().toArray();return console.log({order:t}),a.close(),JSON.parse(JSON.stringify(t))}let g=(0,t.registerServerReference)("a7e8291d1bdcec957a9547e446b86b28d5cf22df",p);async function p(e){let{database:a,client:r}=await (0,n.default)(),t=a.collection("order"),d=await t.find({worker:e}).toArray();return console.log({order:d}),r.close(),JSON.parse(JSON.stringify(d))}let m=(0,t.registerServerReference)("963e7b59c50153e0fdad62679fe297a96352837a",x);async function x(e,a){let{database:r,client:t}=await (0,n.default)(),d=r.collection("order"),i=await d.updateOne({...e},{$set:{status:a}});return console.log({order:i}),t.close(),JSON.parse(JSON.stringify(i))}let v=(0,t.registerServerReference)("e22f0f872921c08064859548dcf4f27623b0971b",O);async function O(e){console.log({id:e});let{database:a,client:r}=await (0,n.default)(),t=a.collection("order");var i=new d.ObjectId(e);let s=await t.findOne({_id:i});return console.log({order:s}),r.close(),JSON.parse(JSON.stringify(s))}(0,i.ensureServerEntryExports)([s,l,b,u,g,m,v]),(0,t.registerServerReference)("2b5f27bb77a493a536153c35bc92da67448bbf00",s),(0,t.registerServerReference)("604a5f53a386e7d884ceb4e637d9db4dde083582",l),(0,t.registerServerReference)("cebd14fc41c69c7d1b4b0d283ed367f82ad15ead",b),(0,t.registerServerReference)("aa60c369216bcb2edf713d1d760271767fc5a6b6",u),(0,t.registerServerReference)("108866074a754ba62450c20513e6d7aa9f0ae0d5",g),(0,t.registerServerReference)("0e2da7323e643dc8502d779a9be0ee215a5adedb",m),(0,t.registerServerReference)("87811bda8aab4f2c40c29da1aea7294596397243",v)},84929:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$ACTION_0:()=>s,$$ACTION_1:()=>l,$$ACTION_2:()=>b,$$ACTION_3:()=>u,$$ACTION_4:()=>g,addReview:()=>i,getAllReviews:()=>o,getReviewsType:()=>f,getReviewsWorker:()=>h,getWorkerReviews:()=>c});var t=r(60398);r(75811);var d=r(20915),n=r(46893);let i=(0,t.registerServerReference)("dbd3bf488cf051dad2f92096b840a30adf6e4771",s);async function s(e){let{database:a,client:r}=await (0,d.default)(),t=a.collection("review"),n=await t.insertOne(e);return console.log({review:n}),r.close(),JSON.parse(JSON.stringify(n))}let c=(0,t.registerServerReference)("0a3e44c80174d4e3c71ee7b433671f69721516fd",l);async function l(e){let{database:a,client:r}=await (0,d.default)(),t=a.collection("review"),n=await t.find({worker:e}).toArray();return console.log({review:n}),r.close(),JSON.parse(JSON.stringify(n))}let o=(0,t.registerServerReference)("f53f6115db2a3326ee903027cbec1377526cb555",b);async function b(){let{database:e,client:a}=await (0,d.default)(),r=e.collection("review"),t=await r.find().toArray();return console.log({review:t}),a.close(),JSON.parse(JSON.stringify(t))}let f=(0,t.registerServerReference)("e6aca10d9d725666913cd9458af7af6f09ff935a",u);async function u(e){let{database:a,client:r}=await (0,d.default)(),t=a.collection("review"),n=await t.find({service:e}).toArray();return console.log({review:n}),r.close(),JSON.parse(JSON.stringify(n.slice(0,3)))}let h=(0,t.registerServerReference)("04c8a411ffe2e5cbcfdb8f9756b4f9371a8f7e74",g);async function g(e){let{database:a,client:r}=await (0,d.default)(),t=a.collection("review"),n=await t.find({worker:e}).toArray();return console.log({review:n}),r.close(),JSON.parse(JSON.stringify(n))}(0,n.ensureServerEntryExports)([i,c,o,f,h]),(0,t.registerServerReference)("6a035b8edf0379b08192112a9a7ab36bc6203901",i),(0,t.registerServerReference)("dbc95576c41cfdf6449f327f8376ab30081dfa7c",c),(0,t.registerServerReference)("d3404bb93b9a4209d33db081d3774c9915eb1407",o),(0,t.registerServerReference)("09a62f06f82ea7d68ac63d7000afb8be15a907d7",f),(0,t.registerServerReference)("6d757ae541fc0bbdda1c770b8d762a7ba13c8c56",h)},30646:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$typeof:()=>n,__esModule:()=>d,default:()=>i});let t=(0,r(86843).createProxy)(String.raw`C:\Users\DELL\Desktop\DOMESTIC-EASE\src\app\orders\page.tsx`),{__esModule:d,$$typeof:n}=t,i=t.default},67230:(e,a,r)=>{"use strict";r.d(a,{h:()=>s});var t=r(23353),d=r(95459),n=r(4308),i=r(95344),s=(0,d.G)((e,a)=>{let r=(0,t.p)();return(0,i.jsx)(n.m.thead,{...e,ref:a,__css:r.thead})})},23353:(e,a,r)=>{"use strict";r.d(a,{i:()=>f,p:()=>b});var t=r(95459),d=r(21092),n=r(89320),i=r(4308),s=r(39689),c=r(23175),l=r(95344),[o,b]=(0,c.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),f=(0,t.G)((e,a)=>{let r=(0,d.jC)("Table",e),{className:t,layout:c,...b}=(0,n.Lr)(e);return(0,l.jsx)(o,{value:r,children:(0,l.jsx)(i.m.table,{ref:a,__css:{tableLayout:c,...r.table},className:(0,s.cx)("chakra-table",t),...b})})});f.displayName="Table"},47865:(e,a,r)=>{"use strict";r.d(a,{Tr:()=>s});var t=r(23353),d=r(95459),n=r(4308),i=r(95344),s=(0,d.G)((e,a)=>{let r=(0,t.p)();return(0,i.jsx)(n.m.tr,{...e,ref:a,__css:r.tr})})},72764:(e,a,r)=>{"use strict";r.d(a,{p:()=>s});var t=r(23353),d=r(95459),n=r(4308),i=r(95344),s=(0,d.G)((e,a)=>{let r=(0,t.p)();return(0,i.jsx)(n.m.tbody,{...e,ref:a,__css:r.tbody})})},9480:(e,a,r)=>{"use strict";r.d(a,{Th:()=>s});var t=r(23353),d=r(95459),n=r(4308),i=r(95344),s=(0,d.G)(({isNumeric:e,...a},r)=>{let d=(0,t.p)();return(0,i.jsx)(n.m.th,{...a,ref:r,__css:d.th,"data-is-numeric":e})})},25684:(e,a,r)=>{"use strict";r.d(a,{Td:()=>s});var t=r(23353),d=r(95459),n=r(4308),i=r(95344),s=(0,d.G)(({isNumeric:e,...a},r)=>{let d=(0,t.p)();return(0,i.jsx)(n.m.td,{...a,ref:r,__css:d.td,"data-is-numeric":e})})},75118:(e,a,r)=>{"use strict";r.d(a,{g:()=>b});var t=r(61802),d=r(95459),n=r(21092),i=r(89320),s=r(4308),c=r(39689),l=r(95344),o=["h","minH","height","minHeight"],b=(0,d.G)((e,a)=>{let r=(0,n.mq)("Textarea",e),{className:d,rows:b,...f}=(0,i.Lr)(e),u=(0,t.Y)(f),h=b?function(e,a=[]){let r=Object.assign({},e);for(let e of a)e in r&&delete r[e];return r}(r,o):r;return(0,l.jsx)(s.m.textarea,{ref:a,rows:b,...u,className:(0,c.cx)("chakra-textarea",d),__css:h})});b.displayName="Textarea"},64470:(e,a,r)=>{"use strict";r.d(a,{p:()=>s});var t=r(77780),d=r(30798),n=r(54948),i=r(3729);function s(e){let{theme:a}=(0,n.uP)(),r=(0,t.OX)();return(0,i.useMemo)(()=>(0,d.Cj)(a.direction,{...r,...e}),[e,a.direction,r])}},31296:(e,a,r)=>{"use strict";r.d(a,{D:()=>b});var t=r(3729),d=r(99896),n=r(41466),i=r(80057),s=r(28651),c=class extends i.l{#e;#a=void 0;#r;#t;constructor(e,a){super(),this.#e=e,this.setOptions(a),this.bindMethods(),this.#d()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let a=this.options;this.options=this.#e.defaultMutationOptions(e),(0,s.VS)(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),a?.mutationKey&&this.options.mutationKey&&(0,s.Ym)(a.mutationKey)!==(0,s.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#d(),this.#n(e)}getCurrentResult(){return this.#a}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#d(),this.#n()}mutate(e,a){return this.#t=a,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#d(){let e=this.#r?.state??(0,d.R)();this.#a={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){n.V.batch(()=>{if(this.#t&&this.hasListeners()){let a=this.#a.variables,r=this.#a.context;e?.type==="success"?(this.#t.onSuccess?.(e.data,a,r),this.#t.onSettled?.(e.data,null,a,r)):e?.type==="error"&&(this.#t.onError?.(e.error,a,r),this.#t.onSettled?.(void 0,e.error,a,r))}this.listeners.forEach(e=>{e(this.#a)})})}},l=r(26274),o=r(63701);function b(e,a){let r=(0,l.NL)(a),[d]=t.useState(()=>new c(r,e));t.useEffect(()=>{d.setOptions(e)},[d,e]);let i=t.useSyncExternalStore(t.useCallback(e=>d.subscribe(n.V.batchCalls(e)),[d]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),s=t.useCallback((e,a)=>{d.mutate(e,a).catch(o.Z)},[d]);if(i.error&&(0,o.L)(d.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[1638,5263,337,905,1271,5758,116,8715],()=>r(93086));module.exports=t})();