(()=>{var e={};e.id=4178,e.ids=[4178],e.modules={38013:e=>{"use strict";e.exports=require("mongodb")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},89801:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>o,routeModule:()=>p,tree:()=>d});var n=a(50482),r=a(69108),i=a(62563),l=a.n(i),s=a(68300),c={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>s[e]);a.d(t,c);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,65648)),"C:\\Users\\DELL\\Desktop\\DOMESTIC-EASE\\src\\app\\profile\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,21342)),"C:\\Users\\DELL\\Desktop\\DOMESTIC-EASE\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["C:\\Users\\DELL\\Desktop\\DOMESTIC-EASE\\src\\app\\profile\\page.tsx"],u="/profile/page",f={require:a,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},32365:(e,t,a)=>{let n={"0f4d132821da063e73dee58ac0271c6b416dbe08":()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.createUser),"2727ff5f424dc69ed443f01d95876fa2ea974c6d":()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.createServiceUser),"42add083530816ef53685d2bc3bb9dc9ac390d43":()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.$$ACTION_3),"59975b62b53c5f40ad91cc17f309d881c82b0209":()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.getAllServiceUsers),"6b01299afed5f0665d014a4af2855e7649356ed0":()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.$$ACTION_1),"7691509385738a31cc2b30475603815741bc16de":()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.$$ACTION_6),"830a08f0b4898aa4d63fb94229055f2fce3e3f71":()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.getUser),"9c3fff7bc34ea049ee987a3faad47491f6dcc742":()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.deleteUser),"9c58d2425d31d23d3f8e3fede0e025a9a16aaf00":()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.$$ACTION_5),a8dbe559b9e3e82e687aabcfe7c2bab9f020568c:()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.getAllUsers),ae483d5d3c1e2e20ae95a2933fab40df31f7512a:()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.updateUser),c5daaae2c8a269884ec101003cee7f2605e1150e:()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.$$ACTION_2),d48555850f75bbc8331ae2649fda238e04723775:()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.$$ACTION_4),dab07b5958eb4650ece771bcba69be64c61f2338:()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.$$ACTION_0),e80969a57efceefee6a8a65908e1e314fe49a2a0:()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.getUserInfo),fb901ff69281c7c2704cbf39121f1ae1992b3848:()=>Promise.resolve().then(a.bind(a,51518)).then(e=>e.$$ACTION_7)};async function r(e,...t){return(await n[e]()).apply(null,t)}e.exports={"0f4d132821da063e73dee58ac0271c6b416dbe08":r.bind(null,"0f4d132821da063e73dee58ac0271c6b416dbe08"),"2727ff5f424dc69ed443f01d95876fa2ea974c6d":r.bind(null,"2727ff5f424dc69ed443f01d95876fa2ea974c6d"),"42add083530816ef53685d2bc3bb9dc9ac390d43":r.bind(null,"42add083530816ef53685d2bc3bb9dc9ac390d43"),"59975b62b53c5f40ad91cc17f309d881c82b0209":r.bind(null,"59975b62b53c5f40ad91cc17f309d881c82b0209"),"6b01299afed5f0665d014a4af2855e7649356ed0":r.bind(null,"6b01299afed5f0665d014a4af2855e7649356ed0"),"7691509385738a31cc2b30475603815741bc16de":r.bind(null,"7691509385738a31cc2b30475603815741bc16de"),"830a08f0b4898aa4d63fb94229055f2fce3e3f71":r.bind(null,"830a08f0b4898aa4d63fb94229055f2fce3e3f71"),"9c3fff7bc34ea049ee987a3faad47491f6dcc742":r.bind(null,"9c3fff7bc34ea049ee987a3faad47491f6dcc742"),"9c58d2425d31d23d3f8e3fede0e025a9a16aaf00":r.bind(null,"9c58d2425d31d23d3f8e3fede0e025a9a16aaf00"),a8dbe559b9e3e82e687aabcfe7c2bab9f020568c:r.bind(null,"a8dbe559b9e3e82e687aabcfe7c2bab9f020568c"),ae483d5d3c1e2e20ae95a2933fab40df31f7512a:r.bind(null,"ae483d5d3c1e2e20ae95a2933fab40df31f7512a"),c5daaae2c8a269884ec101003cee7f2605e1150e:r.bind(null,"c5daaae2c8a269884ec101003cee7f2605e1150e"),d48555850f75bbc8331ae2649fda238e04723775:r.bind(null,"d48555850f75bbc8331ae2649fda238e04723775"),dab07b5958eb4650ece771bcba69be64c61f2338:r.bind(null,"dab07b5958eb4650ece771bcba69be64c61f2338"),e80969a57efceefee6a8a65908e1e314fe49a2a0:r.bind(null,"e80969a57efceefee6a8a65908e1e314fe49a2a0"),fb901ff69281c7c2704cbf39121f1ae1992b3848:r.bind(null,"fb901ff69281c7c2704cbf39121f1ae1992b3848")}},84002:(e,t,a)=>{Promise.resolve().then(a.bind(a,26589))},70633:(e,t,a)=>{"use strict";a.d(t,{T:()=>n});let n=[{label:"Electrician services",value:"electrician"},{label:"Plumber services",value:"plumber"},{label:"Home cleaning services",value:"home_cleaning"},{label:"Car cleaning and maintenance services",value:"car_cleaning"},{label:"Pest control services",value:"pest_control"},{label:"Carpentry services",value:"carpentry"}]},26589:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var n=a(95344),r=a(98117),i=a(45),l=a(26274),s=a(81271),c=a(64470),d=a(44730),o=a(61469),u=a(96442),f=a(46006),p=a(3),h=a(63085),b=a(3729),m=a(8428),g=a(70633),x=a(89410);let v=()=>{let{user:e}=(0,r.a)();(0,l.NL)();let[t,a]=(0,b.useState)(""),[v,y]=(0,b.useState)(""),[j,C]=(0,b.useState)(""),[w,I]=(0,b.useState)(""),[P,S]=(0,b.useState)(""),[_,A]=(0,b.useState)(""),[E,N]=(0,b.useState)(""),[k,q]=(0,b.useState)(""),[T,$]=(0,b.useState)(g.T[0].value),U=(0,c.p)(),[D,O]=(0,b.useState)(!1),[z,L]=(0,b.useState)(""),{data:M,isLoading:G}=(0,s.a)({queryKey:["userdetails",e],queryFn:async()=>{let t=await (0,i.bG)(e);return a(t.email),L(t.password),y(t.name),I(t.phone),S(t.address),A(t.city),N(t.state),q(t.zip),$(t.service),t}}),B=(0,m.useRouter)(),W=async e=>{e.preventDefault(),O(!0);try{let a=null;if(e.target.file.files[0]){if(e.target.file.files[0].size>8388608){U({title:"Image size should be less than 8MB",status:"error",duration:9e3,isClosable:!0});return}let t=new FormData;t.append("file",e.target.file.files[0]);let n=await fetch("/api/upload-image",{method:"POST",body:t});a=(await n.json()).name}"service"===M.type?await (0,i.Nq)(t,{name:v,phone:w,address:P,city:_,state:E,zip:k,password:z,service:T,image:a||M.image}):await (0,i.Nq)(t,{password:z,image:a||M.image,name:v,phone:w,address:P,city:_,state:E,zip:k}),U({title:"Account updated.",description:"Your account has been updated successfully.",status:"success",duration:9e3,isClosable:!0}),B.push("/profile")}catch(e){}O(!1)};return G?n.jsx(d.k,{gap:2,width:"100%",marginY:10,justifyContent:"center",children:n.jsx(o.$,{size:"xl"})}):"service"===M.type?(0,n.jsxs)(d.k,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",marginY:10,children:[n.jsx(u.x,{fontSize:"x-large",fontWeight:"bold",textAlign:"center",children:"Update Service Provider Information"}),(0,n.jsxs)("form",{onSubmit:W,style:{maxWidth:"500px",width:"100%"},children:[n.jsx(x.default,{src:`/api/get-image/${M.image}`,width:200,height:200,alt:"image",style:{margin:"auto",border:"1px solid rgba(200,200,200,0.5)",maxHeight:"200px",maxWidth:"200px",objectFit:"cover",borderRadius:"10%"}}),(0,n.jsxs)(d.k,{paddingTop:2,gap:2,direction:"column",width:"100%",justifyContent:"center",alignItems:"center",children:[n.jsx(f.I,{width:"100%",type:"text",value:v,placeholder:"Name",onChange:e=>{!(e.target.value.length>20)&&(e.target.value.match(/[^a-zA-Z\s]/g)||y(e.target.value))}}),n.jsx(f.I,{width:"100%",disabled:!0,value:t,type:"email",placeholder:"Email",onChange:e=>a(e.target.value)}),n.jsx(f.I,{width:"100%",type:"password",value:z,placeholder:"Password",onChange:e=>L(e.target.value)}),n.jsx(f.I,{width:"100%",type:"number",value:w,placeholder:"Phone",onChange:e=>{!(e.target.value.length>12)&&(e.target.value.match(/[^0-9]/g)||I(e.target.value))}}),n.jsx(f.I,{width:"100%",type:"text",value:P,placeholder:"Address",onChange:e=>S(e.target.value)}),n.jsx(f.I,{width:"100%",type:"text",value:_,placeholder:"City",onChange:e=>A(e.target.value)}),(0,n.jsxs)(d.k,{gap:2,width:"100%",justifyContent:"center",alignItems:"center",children:[n.jsx(f.I,{width:"100%",type:"text",value:E,placeholder:"State",onChange:e=>N(e.target.value)}),n.jsx(f.I,{width:"100%",type:"text",value:k,placeholder:"Postal code",onChange:e=>{!(e.target.value.length>6)&&(e.target.value.match(/[^0-9]/g)||q(e.target.value))}})]}),n.jsx(p.P,{value:T,onChange:e=>$(e.target.value),width:"100%",placeholder:"Select service",children:g.T.map(e=>n.jsx("option",{value:e.value,children:e.label},e.value))}),n.jsx(u.x,{fontSize:"large",children:"Update Image"}),n.jsx(f.I,{width:"100%",type:"file",name:"file",accept:"image/*",placeholder:"Image",onChange:e=>C(e.target.value)}),n.jsx(h.z,{width:"100%",colorScheme:"teal",type:"submit",isLoading:D,children:"Update Account"}),n.jsx(h.z,{width:"100%",colorScheme:"red",type:"button",onClick:()=>B.push("/user"),children:"Back"})]})]})]}):(0,n.jsxs)(d.k,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",marginY:10,children:[n.jsx(u.x,{fontSize:"x-large",fontWeight:"bold",textAlign:"center",children:"Update User Information"}),n.jsx("form",{onSubmit:W,style:{maxWidth:"500px",width:"100%"},children:(0,n.jsxs)(d.k,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",gap:2,children:[n.jsx(f.I,{width:"100%",type:"text",value:v,placeholder:"Name",onChange:e=>{!(e.target.value.length>20)&&(e.target.value.match(/[^a-zA-Z\s]/g)||y(e.target.value))}}),n.jsx(f.I,{width:"100%",type:"email",disabled:!0,value:t,placeholder:"Email",onChange:e=>a(e.target.value)}),n.jsx(f.I,{width:"100%",type:"password",value:z,placeholder:"Password",onChange:e=>L(e.target.value)}),n.jsx(f.I,{width:"100%",type:"number",value:w,placeholder:"Phone",onChange:e=>{e.target.value.length>12||I(e.target.value)}}),n.jsx(f.I,{width:"100%",type:"text",value:P,placeholder:"Address",onChange:e=>S(e.target.value)}),n.jsx(f.I,{width:"100%",type:"text",value:_,placeholder:"City",onChange:e=>A(e.target.value)}),n.jsx(f.I,{width:"100%",type:"text",value:k,placeholder:"Postal code",onChange:e=>{!(e.target.value.length>6)&&(e.target.value.match(/[^0-9]/g)||q(e.target.value))}}),n.jsx(u.x,{fontSize:"large",children:"Update Image"}),n.jsx(f.I,{width:"100%",type:"file",name:"file",accept:"image/*",placeholder:"Image",onChange:e=>C(e.target.value)}),n.jsx(h.z,{width:"100%",colorScheme:"teal",type:"submit",isLoading:D,children:"Update Account"})]})})]})}},65648:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>l});let n=(0,a(86843).createProxy)(String.raw`C:\Users\DELL\Desktop\DOMESTIC-EASE\src\app\profile\page.tsx`),{__esModule:r,$$typeof:i}=n,l=n.default},63085:(e,t,a)=>{"use strict";a.d(t,{z:()=>m});var n=a(3729),[r,i]=(0,a(23175).k)({strict:!1,name:"ButtonGroupContext"}),l=a(4308),s=a(39689),c=a(95344);function d(e){let{children:t,className:a,...r}=e,i=(0,n.isValidElement)(t)?(0,n.cloneElement)(t,{"aria-hidden":!0,focusable:!1}):t,d=(0,s.cx)("chakra-button__icon",a);return(0,c.jsx)(l.m.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:d,children:i})}d.displayName="ButtonIcon";var o=a(61469);function u(e){let{label:t,placement:a,spacing:r="0.5rem",children:i=(0,c.jsx)(o.$,{color:"currentColor",width:"1em",height:"1em"}),className:d,__css:u,...f}=e,p=(0,s.cx)("chakra-button__spinner",d),h="start"===a?"marginEnd":"marginStart",b=(0,n.useMemo)(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[h]:t?r:0,fontSize:"1em",lineHeight:"normal",...u}),[u,t,h,r]);return(0,c.jsx)(l.m.div,{className:p,...f,__css:b,children:i})}u.displayName="ButtonSpinner";var f=a(69153),p=a(95459),h=a(21092),b=a(89320),m=(0,p.G)((e,t)=>{let a=i(),r=(0,h.mq)("Button",{...a,...e}),{isDisabled:d=null==a?void 0:a.isDisabled,isLoading:o,isActive:p,children:m,leftIcon:x,rightIcon:v,loadingText:y,iconSpacing:j="0.5rem",type:C,spinner:w,spinnerPlacement:I="start",className:P,as:S,..._}=(0,b.Lr)(e),A=(0,n.useMemo)(()=>{let e={...null==r?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!a&&{_focus:e}}},[r,a]),{ref:E,type:N}=function(e){let[t,a]=(0,n.useState)(!e);return{ref:(0,n.useCallback)(e=>{e&&a("BUTTON"===e.tagName)},[]),type:t?"button":void 0}}(S),k={rightIcon:v,leftIcon:x,iconSpacing:j,children:m};return(0,c.jsxs)(l.m.button,{ref:(0,f.qq)(t,E),as:S,type:null!=C?C:N,"data-active":(0,s.PB)(p),"data-loading":(0,s.PB)(o),__css:A,className:(0,s.cx)("chakra-button",P),..._,disabled:d||o,children:[o&&"start"===I&&(0,c.jsx)(u,{className:"chakra-button__spinner--start",label:y,placement:"start",spacing:j,children:w}),o?y||(0,c.jsx)(l.m.span,{opacity:0,children:(0,c.jsx)(g,{...k})}):(0,c.jsx)(g,{...k}),o&&"end"===I&&(0,c.jsx)(u,{className:"chakra-button__spinner--end",label:y,placement:"end",spacing:j,children:w})]})});function g(e){let{leftIcon:t,rightIcon:a,children:n,iconSpacing:r}=e;return(0,c.jsxs)(c.Fragment,{children:[t&&(0,c.jsx)(d,{marginEnd:r,children:t}),n,a&&(0,c.jsx)(d,{marginStart:r,children:a})]})}m.displayName="Button"},96442:(e,t,a)=>{"use strict";a.d(t,{x:()=>o});var n=a(95459),r=a(21092),i=a(89320),l=a(4308),s=a(39689),c=a(70709),d=a(95344),o=(0,n.G)(function(e,t){let a=(0,r.mq)("Text",e),{className:n,align:o,decoration:u,casing:f,...p}=(0,i.Lr)(e),h=(0,c.o)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,d.jsx)(l.m.p,{ref:t,className:(0,s.cx)("chakra-text",e.className),...h,...p,__css:a})});o.displayName="Text"},44730:(e,t,a)=>{"use strict";a.d(t,{k:()=>l});var n=a(95459),r=a(4308),i=a(95344),l=(0,n.G)(function(e,t){let{direction:a,align:n,justify:l,wrap:s,basis:c,grow:d,shrink:o,...u}=e;return(0,i.jsx)(r.m.div,{ref:t,__css:{display:"flex",flexDirection:a,alignItems:n,justifyContent:l,flexWrap:s,flexBasis:c,flexGrow:d,flexShrink:o},...u})});l.displayName="Flex"},70709:(e,t,a)=>{"use strict";function n(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}a.d(t,{o:()=>n})},69153:(e,t,a)=>{"use strict";a.d(t,{lq:()=>r,qq:()=>i});var n=a(3729);function r(...e){return t=>{e.forEach(e=>{!function(e,t){if(null!=e){if("function"==typeof e){e(t);return}try{e.current=t}catch(a){throw Error(`Cannot assign value '${t}' to ref '${e}'`)}}}(e,t)})}}function i(...e){return(0,n.useMemo)(()=>r(...e),e)}},64470:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});var n=a(77780),r=a(30798),i=a(54948),l=a(3729);function s(e){let{theme:t}=(0,i.uP)(),a=(0,n.OX)();return(0,l.useMemo)(()=>(0,r.Cj)(t.direction,{...a,...e}),[e,t.direction,a])}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[1638,5263,337,905,1271,9410,116,8715],()=>a(89801));module.exports=n})();