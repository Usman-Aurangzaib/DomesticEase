(()=>{var e={};e.id=9421,e.ids=[9421],e.modules={38013:e=>{"use strict";e.exports=require("mongodb")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},79961:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>c.a,__next_app__:()=>f,originalPathname:()=>b,pages:()=>l,routeModule:()=>u,tree:()=>i});var t=r(50482),d=r(69108),n=r(62563),c=r.n(n),s=r(68300),o={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>s[e]);r.d(a,o);let i=["",{children:["location",{children:["[order]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8719)),"C:\\Users\\DELL\\Desktop\\DOMESTIC-EASE\\src\\app\\location\\[order]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,21342)),"C:\\Users\\DELL\\Desktop\\DOMESTIC-EASE\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\DELL\\Desktop\\DOMESTIC-EASE\\src\\app\\location\\[order]\\page.tsx"],b="/location/[order]/page",f={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:d.x.APP_PAGE,page:"/location/[order]/page",pathname:"/location/[order]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},72179:(e,a,r)=>{let t={"072968937d72af519230d2a43691d6e81586f679":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_1),"0e2da7323e643dc8502d779a9be0ee215a5adedb":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.updateOrder),"108866074a754ba62450c20513e6d7aa9f0ae0d5":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.getSerivcesOrders),"18ce25f48cfdcff1e8e1d068e79dd0e03629b824":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_2),"2b5f27bb77a493a536153c35bc92da67448bbf00":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.findService),"604a5f53a386e7d884ceb4e637d9db4dde083582":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.createOrder),"87811bda8aab4f2c40c29da1aea7294596397243":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.getOrder),"88a430642403f7c4f951cddd695a810686a83667":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_0),"963e7b59c50153e0fdad62679fe297a96352837a":()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_5),a7e8291d1bdcec957a9547e446b86b28d5cf22df:()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_4),aa60c369216bcb2edf713d1d760271767fc5a6b6:()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.getAllOrders),b811366656e3aad9ca4d5bc3ad24da57723bbb4a:()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_3),cebd14fc41c69c7d1b4b0d283ed367f82ad15ead:()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.getOrders),e22f0f872921c08064859548dcf4f27623b0971b:()=>Promise.resolve().then(r.bind(r,96790)).then(e=>e.$$ACTION_6)};async function d(e,...a){return(await t[e]()).apply(null,a)}e.exports={"072968937d72af519230d2a43691d6e81586f679":d.bind(null,"072968937d72af519230d2a43691d6e81586f679"),"0e2da7323e643dc8502d779a9be0ee215a5adedb":d.bind(null,"0e2da7323e643dc8502d779a9be0ee215a5adedb"),"108866074a754ba62450c20513e6d7aa9f0ae0d5":d.bind(null,"108866074a754ba62450c20513e6d7aa9f0ae0d5"),"18ce25f48cfdcff1e8e1d068e79dd0e03629b824":d.bind(null,"18ce25f48cfdcff1e8e1d068e79dd0e03629b824"),"2b5f27bb77a493a536153c35bc92da67448bbf00":d.bind(null,"2b5f27bb77a493a536153c35bc92da67448bbf00"),"604a5f53a386e7d884ceb4e637d9db4dde083582":d.bind(null,"604a5f53a386e7d884ceb4e637d9db4dde083582"),"87811bda8aab4f2c40c29da1aea7294596397243":d.bind(null,"87811bda8aab4f2c40c29da1aea7294596397243"),"88a430642403f7c4f951cddd695a810686a83667":d.bind(null,"88a430642403f7c4f951cddd695a810686a83667"),"963e7b59c50153e0fdad62679fe297a96352837a":d.bind(null,"963e7b59c50153e0fdad62679fe297a96352837a"),a7e8291d1bdcec957a9547e446b86b28d5cf22df:d.bind(null,"a7e8291d1bdcec957a9547e446b86b28d5cf22df"),aa60c369216bcb2edf713d1d760271767fc5a6b6:d.bind(null,"aa60c369216bcb2edf713d1d760271767fc5a6b6"),b811366656e3aad9ca4d5bc3ad24da57723bbb4a:d.bind(null,"b811366656e3aad9ca4d5bc3ad24da57723bbb4a"),cebd14fc41c69c7d1b4b0d283ed367f82ad15ead:d.bind(null,"cebd14fc41c69c7d1b4b0d283ed367f82ad15ead"),e22f0f872921c08064859548dcf4f27623b0971b:d.bind(null,"e22f0f872921c08064859548dcf4f27623b0971b")}},70142:(e,a,r)=>{Promise.resolve().then(r.bind(r,85850))},27105:(e,a,r)=>{"use strict";r.d(a,{AU:()=>s,Cs:()=>l,LU:()=>i,LV:()=>c,Wv:()=>n,co:()=>d,zk:()=>o}),r(13664);var t=r(28371),d=(0,t.$)("87811bda8aab4f2c40c29da1aea7294596397243"),n=(0,t.$)("2b5f27bb77a493a536153c35bc92da67448bbf00"),c=(0,t.$)("604a5f53a386e7d884ceb4e637d9db4dde083582"),s=(0,t.$)("cebd14fc41c69c7d1b4b0d283ed367f82ad15ead"),o=(0,t.$)("aa60c369216bcb2edf713d1d760271767fc5a6b6"),i=(0,t.$)("108866074a754ba62450c20513e6d7aa9f0ae0d5"),l=(0,t.$)("0e2da7323e643dc8502d779a9be0ee215a5adedb")},85850:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>b});var t=r(95344),d=r(27105),n=r(61469),c=r(81271),s=r(44029),o=r.n(s),i=r(8428),l=r(3729);o().accessToken="pk.eyJ1Ijoid2luZXBpbmV6IiwiYSI6ImNsdXZlYzNoOTAyaHAybG55bGw2ZDJ1OTgifQ.58CX4i5rlZ3uYYPTr_cqWQ";let b=()=>{let e=(0,i.useParams)(),{data:a,isLoading:r}=(0,c.a)({queryKey:["order",e.order],queryFn:async()=>(0,d.co)(e.order)}),s=(0,l.useRef)(null),[b,f]=(0,l.useState)(null),[u,p]=(0,l.useState)(null);return((0,l.useEffect)(()=>{if(b){if(a?.location){let{lat:e,lng:r}=a.location;p(new(o()).Marker().setLngLat([r,e]).addTo(b)),b.flyTo({center:[r,e],zoom:10})}}else(({setMap:e,mapContainerRef:r})=>{if(!r.current||!a?.location)return;let{lat:t,lng:d}=a.location,n=new(o()).Map({container:r.current,style:"mapbox://styles/mapbox/streets-v11",center:[d,t],zoom:5});n.on("load",()=>{e(n),n.resize()})})({setMap:f,mapContainerRef:s});return()=>{b&&b.remove()}},[b,a]),r)?t.jsx("div",{children:t.jsx(n.$,{})}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("link",{href:"https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css",rel:"stylesheet"}),t.jsx("div",{ref:s,className:"map-container",style:{width:"100%",height:"90vh"}})]})}},96790:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$ACTION_0:()=>o,$$ACTION_1:()=>l,$$ACTION_2:()=>f,$$ACTION_3:()=>p,$$ACTION_4:()=>v,$$ACTION_5:()=>h,$$ACTION_6:()=>y,createOrder:()=>i,findService:()=>s,getAllOrders:()=>u,getOrder:()=>O,getOrders:()=>b,getSerivcesOrders:()=>g,updateOrder:()=>m});var t=r(60398);r(75811);var d=r(38013),n=r(20915),c=r(46893);let s=(0,t.registerServerReference)("88a430642403f7c4f951cddd695a810686a83667",o);async function o(e,a){let{database:r,client:t}=await (0,n.default)(),d=r.collection("user");for(let n of(console.log(e),await d.find({$and:[{type:"service"},{service:e},{approved:!0}]}).toArray())){let e=r.collection("order"),d=await e.findOne({$and:[{worker:n.email},{date:a}]});if(console.log({order:d}),!d)return t.close(),JSON.parse(JSON.stringify(n))}return t.close(),{}}let i=(0,t.registerServerReference)("072968937d72af519230d2a43691d6e81586f679",l);async function l(e){let{database:a,client:r}=await (0,n.default)(),t=a.collection("order"),d=await t.insertOne({...e,status:"pending"});return console.log({order:d}),r.close(),JSON.parse(JSON.stringify(d))}let b=(0,t.registerServerReference)("18ce25f48cfdcff1e8e1d068e79dd0e03629b824",f);async function f(e){let{database:a,client:r}=await (0,n.default)(),t=a.collection("order"),d=await t.find({email:e}).toArray();return console.log({order:d}),r.close(),JSON.parse(JSON.stringify(d))}let u=(0,t.registerServerReference)("b811366656e3aad9ca4d5bc3ad24da57723bbb4a",p);async function p(){let{database:e,client:a}=await (0,n.default)(),r=e.collection("order"),t=await r.find().toArray();return console.log({order:t}),a.close(),JSON.parse(JSON.stringify(t))}let g=(0,t.registerServerReference)("a7e8291d1bdcec957a9547e446b86b28d5cf22df",v);async function v(e){let{database:a,client:r}=await (0,n.default)(),t=a.collection("order"),d=await t.find({worker:e}).toArray();return console.log({order:d}),r.close(),JSON.parse(JSON.stringify(d))}let m=(0,t.registerServerReference)("963e7b59c50153e0fdad62679fe297a96352837a",h);async function h(e,a){let{database:r,client:t}=await (0,n.default)(),d=r.collection("order"),c=await d.updateOne({...e},{$set:{status:a}});return console.log({order:c}),t.close(),JSON.parse(JSON.stringify(c))}let O=(0,t.registerServerReference)("e22f0f872921c08064859548dcf4f27623b0971b",y);async function y(e){console.log({id:e});let{database:a,client:r}=await (0,n.default)(),t=a.collection("order");var c=new d.ObjectId(e);let s=await t.findOne({_id:c});return console.log({order:s}),r.close(),JSON.parse(JSON.stringify(s))}(0,c.ensureServerEntryExports)([s,i,b,u,g,m,O]),(0,t.registerServerReference)("2b5f27bb77a493a536153c35bc92da67448bbf00",s),(0,t.registerServerReference)("604a5f53a386e7d884ceb4e637d9db4dde083582",i),(0,t.registerServerReference)("cebd14fc41c69c7d1b4b0d283ed367f82ad15ead",b),(0,t.registerServerReference)("aa60c369216bcb2edf713d1d760271767fc5a6b6",u),(0,t.registerServerReference)("108866074a754ba62450c20513e6d7aa9f0ae0d5",g),(0,t.registerServerReference)("0e2da7323e643dc8502d779a9be0ee215a5adedb",m),(0,t.registerServerReference)("87811bda8aab4f2c40c29da1aea7294596397243",O)},20915:(e,a,r)=>{"use strict";r.d(a,{default:()=>d});var t=r(38013);let d=async()=>{let e=new t.MongoClient("mongodb+srv://basitdev:Z8TTCBtR5z0z76QC@domestic-ease-cluster.ygthspq.mongodb.net/");try{await e.connect();let a=e.db("domestic-ease-client");return console.log("Connected to MongoDB"),{client:e,database:a}}catch(e){console.error(e)}}},8719:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$typeof:()=>n,__esModule:()=>d,default:()=>c});let t=(0,r(86843).createProxy)(String.raw`C:\Users\DELL\Desktop\DOMESTIC-EASE\src\app\location\[order]\page.tsx`),{__esModule:d,$$typeof:n}=t,c=t.default},73881:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>d});var t=r(70337);let d=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[1638,5263,337,905,1271,4029,116],()=>r(79961));module.exports=t})();