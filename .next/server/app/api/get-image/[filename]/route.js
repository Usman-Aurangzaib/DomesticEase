"use strict";(()=>{var e={};e.id=5584,e.ids=[5584],e.modules={38013:e=>{e.exports=require("mongodb")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},16216:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>g,originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>f});var n={};a.r(n),a.d(n,{GET:()=>l});var o=a(95419),r=a(69108),s=a(99678),i=a(38292),u=a(98984);async function l(e,{params:t}){let{bucket:a}=await (0,i.T)(),n=t.filename;if(!n)return new u.NextResponse(null,{status:400,statusText:"Bad Request"});let o=await a.find({filename:n}).toArray();if(!o.length)return new u.NextResponse(null,{status:404,statusText:"Not found"});let r=o.at(0),s=a.openDownloadStreamByName(n);return new u.NextResponse(s,{headers:{"Content-Type":r.contentType}})}let p=new o.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/get-image/[filename]/route",pathname:"/api/get-image/[filename]",filename:"route",bundlePath:"app/api/get-image/[filename]/route"},resolvedPagePath:"C:\\Users\\DELL\\Desktop\\DOMESTIC-EASE\\src\\app\\api\\get-image\\[filename]\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:m,headerHooks:g,staticGenerationBailout:f}=p,h="/api/get-image/[filename]/route";function x(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:c})}},38292:(e,t,a)=>{a.d(t,{T:()=>o});var n=a(38013);async function o(){let e=new n.MongoClient("mongodb+srv://basitdev:Z8TTCBtR5z0z76QC@domestic-ease-cluster.ygthspq.mongodb.net/",{}),t=new n.GridFSBucket(e.db(),{bucketName:"images"});return await e.connect(),console.log("Connected to the Database "),{client:e,bucket:t}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[1638,2791],()=>a(16216));module.exports=n})();