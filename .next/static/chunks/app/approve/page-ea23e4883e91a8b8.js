(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9985],{90:function(e,t,n){Promise.resolve().then(n.bind(n,547))},7907:function(e,t,n){"use strict";var r=n(5313);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},3472:function(e,t,n){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return u}});let r=n(5355);function u(e){let{createServerReference:t}=n(6671);return t(e,r.callServer)}},6518:function(e,t,n){"use strict";n.d(t,{AW:function(){return f},FA:function(){return l},Nq:function(){return c},PR:function(){return s},Re:function(){return i},bG:function(){return a},h8:function(){return u},r4:function(){return o}}),n(5355);var r=n(3472),u=(0,r.$)("9c3fff7bc34ea049ee987a3faad47491f6dcc742"),o=(0,r.$)("0f4d132821da063e73dee58ac0271c6b416dbe08"),i=(0,r.$)("2727ff5f424dc69ed443f01d95876fa2ea974c6d"),s=(0,r.$)("830a08f0b4898aa4d63fb94229055f2fce3e3f71"),a=(0,r.$)("e80969a57efceefee6a8a65908e1e314fe49a2a0"),c=(0,r.$)("ae483d5d3c1e2e20ae95a2933fab40df31f7512a"),f=(0,r.$)("a8dbe559b9e3e82e687aabcfe7c2bab9f020568c"),l=(0,r.$)("59975b62b53c5f40ad91cc17f309d881c82b0209")},547:function(e,t,n){"use strict";n.r(t);var r=n(7437),u=n(4741),o=n(4285),i=n(8633),s=n(7895),a=n(2265),c=n(6518),f=n(7907),l=n(5402),d=n(4642);t.default=e=>{let{searchParams:t}=e,n=decodeURIComponent(t.email),m=decodeURIComponent(t.password);console.log({email:n,oldPass:m});let[x,b]=(0,a.useState)(""),g=(0,f.useRouter)(),{user:h}=(0,l.a)(),p=(0,u.p)(),{data:v,isLoading:j}=(0,d.a)({queryKey:["user",n],queryFn:()=>(0,c.PR)(n,m)});(0,a.useEffect)(()=>{h&&(console.log(h),console.log("user already loggedin"),g.push("/"))},[]);let P=async()=>{j||((null==v?void 0:v.email)===n&&(null==v?void 0:v.password)===m?(await (0,c.Nq)(n,{verified:!0}),p({title:"User Verified",status:"success",duration:9e3,isClosable:!0})):(console.log({data:v},"invalid"),p({title:"Invalid Details",status:"error",duration:9e3,isClosable:!0})),g.push("/"))};return((0,a.useEffect)(()=>{P()},[v]),j)?(0,r.jsx)(o.k,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",marginY:10,paddingBottom:64,children:(0,r.jsx)(i.$,{size:"xl"})}):(0,r.jsxs)(o.k,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",marginY:10,paddingBottom:64,children:[(0,r.jsx)(s.x,{fontSize:"x-large",fontWeight:"bold",children:"Approving"}),(0,r.jsx)(s.x,{fontSize:"large",fontWeight:"semibold",children:n})]})}},5402:function(e,t,n){"use strict";n.d(t,{M:function(){return s},a:function(){return a}});var r=n(7437),u=n(7907),o=n(2265);let i=(0,o.createContext)(null),s=e=>{let{children:t}=e,[n,s]=(0,o.useState)(""),a=(0,u.usePathname)(),c=(0,u.useRouter)();return(0,o.useEffect)(()=>{let e=localStorage.getItem("domestic-user");e?s(e):("/book"===a||"/profile"===a||"/dashboard"===a)&&c.push("/")},[]),(0,r.jsx)(i.Provider,{value:{user:n,setUser:s,logout:()=>{localStorage.removeItem("domestic-user"),s(""),c.push("/")}},children:t})},a=()=>{let e=(0,o.useContext)(i);if(!e)throw Error("useUser must be used within a UserWrapper");return e}},7895:function(e,t,n){"use strict";n.d(t,{x:function(){return f}});var r=n(9030),u=n(6335),o=n(1073),i=n(9367),s=n(7362),a=n(8001),c=n(7437),f=(0,r.G)(function(e,t){let n=(0,u.mq)("Text",e),{className:r,align:f,decoration:l,casing:d,...m}=(0,o.Lr)(e),x=(0,a.o)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,c.jsx)(i.m.p,{ref:t,className:(0,s.cx)("chakra-text",e.className),...x,...m,__css:n})});f.displayName="Text"},4285:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(9030),u=n(9367),o=n(7437),i=(0,r.G)(function(e,t){let{direction:n,align:r,justify:i,wrap:s,basis:a,grow:c,shrink:f,...l}=e;return(0,o.jsx)(u.m.div,{ref:t,__css:{display:"flex",flexDirection:n,alignItems:r,justifyContent:i,flexWrap:s,flexBasis:a,flexGrow:c,flexShrink:f},...l})});i.displayName="Flex"},8001:function(e,t,n){"use strict";function r(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}n.d(t,{o:function(){return r}})},4741:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(8504),u=n(750),o=n(2032),i=n(2265);function s(e){let{theme:t}=(0,o.uP)(),n=(0,r.OX)();return(0,i.useMemo)(()=>(0,u.Cj)(t.direction,{...n,...e}),[e,t.direction,n])}}},function(e){e.O(0,[1571,8633,8618,4642,3104,8504,2971,8069,1744],function(){return e(e.s=90)}),_N_E=e.O()}]);